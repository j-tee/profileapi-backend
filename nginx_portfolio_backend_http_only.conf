# Portfolio Backend API Server Block (HTTP only - for SSL certificate generation)

upstream portfolio_backend {
    server 127.0.0.1:8001 fail_timeout=0;
}

# HTTP server
server {
    listen 80;
    listen [::]:80;
    
    server_name profileapi.alphalogiquetechnologies.com;
    
    # Let's Encrypt challenge
    location /.well-known/acme-challenge/ {
        alias /var/www/portfolio/backend/staticfiles/.well-known/acme-challenge/;
        allow all;
        default_type text/plain;
    }
    
    # Temporary: serve content on HTTP until SSL certificate is obtained
    location / {
        return 200 "Portfolio API - Ready for SSL certificate setup";
        add_header Content-Type text/plain;
    }
}
